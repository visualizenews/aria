<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=5,user-scalable=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#E6F4F1">
    <title>L'aria di Milano - Visualize News</title>
    <meta name="description" content="Un semplice modo per scoprire com'è l'aria a Milano tramite una data visualization degli inquinanti atmosferici rilevati da ARPA Lombardia">
    <meta name="keywords" content="inquinamento, inquinamento atmosferico, milano, lombardia, dati">
    <style>
      @keyframes ball {
        0% {
          background-color: #44C08A;
        }
        20% {
          background-color: #FFC954;
        }
        40% {
          background-color: #FF9A4F;
        }
        60% {
          background-color: #F36C57;
        }
        80% {
          background-color: #D74364;
        }
        100% {
          background-color: #AD2370;
        }
      }

      #loading {
        background: #E6F4F1;
        bottom: 0;
        display: none;
        height: auto;
        left: 0;
        opacity: 0;
        position: fixed;
        right: 0;
        top: 0;
        transition: opacity .5s .25s ease-in;
        width: auto;
        z-index: -1;
      }

      #loading div {
        left: 50%;
        max-width: 250px;
        position: absolute;
        top: 50%;
        transform: translate3d(-50%, -50%, 0);
      }

      #loading  div:before {
        animation-direction: alternate;
        animation-duration: 2.5s;
        animation-iteration-count: infinite;
        animation-name: ball;
        animation-timing-function: ease-in-out;
        background-color: #44C08A;
        border-radius: 50%;
        content: '';
        display: block;
        height: 280px;
        left: 50%;
        mix-blend-mode: multiply;
        position: absolute;
        top: 50%;
        transform: translate3d(-50%, -50%, 0);
        transition: background-color .25s ease-in;
        width: 280px;
      }

      #loading h1 {
        font-size: 16px;
        font-weight: 700;
        line-height: 1;
        letter-spacing: 2px;
        margin: 0 0 10px 0;
        text-align: center;
        text-transform: uppercase;
      }

      #loading p {
        font-size: 16px;
        font-weight: 400;
        line-height: 1.5;
        margin: 0;
        text-align: center;
      }

      body.loading #loading {
        display: block;
        opacity: 1;
        z-index: 999999;
      }

      body.loading.exit #loading {
        display: block;
        opacity: 0;
        z-index: 999999;
      }

      body.loading.exit #loading div:before {
        background-color: #44C08A;
      }
    </style>
  </head>
  <body class="loading">
    <div id="loading">
      <div>
        <h1>L'aria di Milano</h1>
        <p id="loadingMessage">Stiamo caricando i dati più recenti sulla qualità dell'aria a Milano.</p>
      </div>
    </div>
    <header class="page-header">
      <h1>L'aria di Milano</h1>
      <div class="page-title page-title-light"><h2>Dati del <span class="dynDate"></span></h2></div>
    </header>
    <div class="page-maps" id="page-maps">
      
    </div>
    <div class="page-title"><h2>Ultimi <span class="writeDays"></span> giorni</h2></div>
    <div class="page-text">
      <p>Nei grafici seguenti è possibile vedere l'andamento di ciascuna sostanza inquinante nel corso dell'ultimo mese. Per ogni giorno sono mostrati i valori massimo e minimo rilevati.</p>
    </div>
    <div class="page-candlesticks" id="page-candlesticks">

    </div>

    <div class="page-title"><h2>Le centraline</h2></div>
    <div class="page-text">
      <p>Le centraline di rilevamento all'interno del comune di milano sono <span id="numberOfStations"></span>, tutte gestite da <a href="https://www.arpalombardia.it/" target="_arpa">ARPA Lombardia</a>. Sono localizzate in <span class="locationOfStations"></span>, ma non tutte risultano essere sempre online, o con sensori attivi per tutti gli inquinanti. I grafici che seguono mostrano solo le centraline con dati disponibili negli ultimi <strong><span class="writeDays"></span> giorni</strong>.</p>
    </div>
    
    <div class="page-charts" id="page-charts">
    </div>

    <footer class="page-footer">
      <div class="wrapper">
        <div class="column">
          <h3 id="data-sources">Fonti</h3>
          <p>I dati vengono raccolti e aggregati almeno due volte al giorno dalle API <a href="http://dati.comune.milano.it" targe="_comune">Open Data del Comune di Milano</a>. <a href="https://www.esa.int/ESA_Multimedia/Images/2015/06/Milan_Italy">Immagine satellitare</a> &copy; <a href="https://www.esa.int/">ESA</a>.
    
          <p>Ultimo aggiornamento dei dati: <span class="dynDate"></span>.</p>
        </div>
        <div class="column">
          <h3>Copyright</h3>
          <p>© 2020 <a href="https://visualize.news" target="_visualize">Visualize.News</a> – Tutti i diritti riservati. Tutte le immagini e i testi © dei rispettivi proprietari. Questo sito è stato progettato e realizzato da <a href="https://simonelippolis.com" target="_simone">Simone Lippolis</a>.</p>
          <h3>Termini del servizio</h3>
          <p>Tutte le analisi sono fornite "as-is" ("così come sono"), senza alcuna garanzia esplicita o implicita della loro correttezza.</p>
          <h3>Privacy policy</h3>
          <p>Questo sito non salva alcun cookie, né utilizza alcun altro tipo di tecnologia di tracking. Usiamo <a href="https://www.google.com/analytics">Google Analytics</a> per soli scopi statistici. È possibile che <a href="https://www.google.com/analytics">Google Analytics</a> salvi cookies o utilizzi altre tecnologie di tracking; questi dati, in ogni caso, non sono a noi accessibili.</p>
          <p><strong>Nessun dato</strong> (inclusi IP address, Host name, Broswer signature) <strong>viene salvato per alucn motivo su nostri server</strong>.</p>
        </div>
        <div class="column">
          <h3><a href="https://visualize.news" target="_visualize"><img src="./vn.png" alt="Visualize News Logo"> Visualize News</a></h3>
          
          <p>Siamo un collettivo di computational designer appassionati di data visualization.</p>
          
          <h3>Contatti</h3>
          <ul>
            <li>Web: <a href="https://visualize.news" target="_visualize">Visualize.News</a></li>
            <li>Twitter: <a href="https://twitter.com/visualizenews" target="_twitter">@visualizenews</a></li>
            <li>Instagram: <a href="https://instagram.com/visualizenews" target="_twitter">@visualizenews</a></li>
            <li>Medium: <a href="https://medium.com/visualize-news" target="_medium">@visualize.news</a></li>
          </ul>
          
          <h3>Altri progetti</h3>
          <ul>
            <li><a href="https://coronavirus.visualize.news" target="_virus">Corona Virus in Italy</a></li>
            <li><a href="https://matteointour.visualize.news" target="_elezioni">Matteo in Tour</a></li>
            <li><a href="https://india.visualize.news" target="_elezioni">Lok Sabha Elections</a></li>
            <li><a href="https://elezioni.io" target="_elezioni">Elezioni.io</a></li>
          </ul>
        </div>
      </div>
    </footer>
   
    <script src="https://cdn.jsdelivr.net/combine/npm/moment@2.24.0,npm/moment@2.24.0/locale/it.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-array/1.2.2/d3-array.min.js" integrity="sha256-DXTo8QSnE30b4PAWKzi7e214vsBCEyE2IuVj8X7aa+g=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-collection/1.0.5/d3-collection.min.js" integrity="sha256-xNoiuWVd276HB67QUPDhHjeUcJnnFnjoQlGSV5iQEiM=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-color/1.2.1/d3-color.min.js" integrity="sha256-wR2VLgjBbKymcJ4G4leI5qZipuX9iXcUq1pBTfyL1Zk=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-format/1.3.0/d3-format.min.js" integrity="sha256-bHlqQWmayTqqemQcwvvRja00/pe6Mx/kk5DxazWh/dk=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-interpolate/1.3.0/d3-interpolate.min.js" integrity="sha256-0U9EtErQwal2c3db1HtybduL0aFOmFtcvHcyaBpynDE=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-time/1.0.8/d3-time.min.js" integrity="sha256-YLupM1GviZ2fFQA7Njaj7sYcHx6ycJyDdFXitnRwUn0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-time-format/2.1.1/d3-time-format.min.js" integrity="sha256-AWfz7rsEyQRXZUCHGM+jlu3ANjhkZ6xcKiDBAQ9ioVY=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-scale/1.0.7/d3-scale.min.js" integrity="sha256-lzSYQxAmR4k3HzpdzajoIEJ6VehpiNgz6hjuDSlYsxc=" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&family=Montserrat:wght@200;400;700;900&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script src="script.js"></script>
  </body>
</html>
